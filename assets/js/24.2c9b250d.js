(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{227:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export"}},[t._v("#")]),t._v(" export")]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("自动生成模块的引入和导出文件。")]),t._v(" "),a("p",[t._v("这是一个内置模块，因此您无需安装它。但是将来它将迁移到独立的npm软件包中。")]),t._v(" "),a("h2",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("假设您开发了一个库/模块，并且其目录结构如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./src\n├── utils\n│   ├── a.js\n│   ├── b.js\n│   ├── c.js\n│   └── ...js\n└── main\n│   ├── a.js\n│   ├── b.js\n│   ├── c.js\n│   └── ...js\n│\n└── and so many...\n")])])]),a("p",[t._v("每个文件夹或js文件都是整个库/模块的一部分。通常，您必须在每个文件夹中放入 "),a("code",[t._v("入口文件（index.js）")]),t._v(" 并导入和导出每个代码拆分的部分。以使其他人可以导入您的库/模块。幸运的是，"),a("code",[t._v("qi-auto-export")]),t._v(" 可以自动完成这项工作：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" qiauto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@qiqi1996/qi-auto"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AutoExport"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" __dirname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"export"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esm"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 ES6 模块语法生成代码（import and export default）")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或使用“ cjs”表示CommonJS语法（require and module.exports）")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("qiauto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AutoExport"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这将检查文件是否更改，并自动重新生成。")]),t._v("\n")])])]),a("p",[t._v("最后，将在每个文件夹中生成 "),a("code",[t._v("入口文件（index.js）")]),t._v("。它们可能看起来像这样：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/utils/index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// QI-AUTO-EXPORT")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./a.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./a.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./a.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// QI-AUTO-EXPORT")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" utils "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./utils/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" main "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./main/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    utils"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[a("code",[t._v("qi-auto-export")]),t._v(' 不会覆盖第一行不是 "// QI-AUTO-EXPORT" 开头的文件。')])]),t._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("h3",{attrs:{id:"options-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-name"}},[t._v("#")]),t._v(" options.name")]),t._v(" "),a("blockquote",[a("p",[t._v("类型: String"),a("br"),t._v('\n默认值: "index.js"')])]),t._v(" "),a("p",[t._v("指出入口文件应使用的名称。具体例子，比如提供了 "),a("code",[t._v("index.jsx")]),t._v("，那么 "),a("code",[t._v("qi-auto-export")]),t._v(" 将仅检测 "),a("code",[t._v("index.jsx")]),t._v(" 文件以进行 "),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("export")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-type"}},[t._v("#")]),t._v(" options.type")]),t._v(" "),a("blockquote",[a("p",[t._v("类型：String"),a("br"),t._v('\n可用值："esm" | "cjs"'),a("br"),t._v('\n默认值："esm"')])]),t._v(" "),a("p",[t._v("指示应使用哪种语法生成。对于ES6模块语法，使用 "),a("code",[t._v("esm")]),t._v(" 可以使用 "),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("export default")]),t._v(" 生成代码，对于CommonJS语法使用 "),a("code",[t._v("cjs")]),t._v(" 可以使用 "),a("code",[t._v("require")]),t._v(" 和 "),a("code",[t._v("module.exports")]),t._v(" 生成代码。")]),t._v(" "),a("h3",{attrs:{id:"options-inject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-inject"}},[t._v("#")]),t._v(" options.inject")]),t._v(" "),a("blockquote",[a("p",[t._v("可选的"),a("br"),t._v("\n类型：String | Function")])]),t._v(" "),a("p",[t._v("该内容将在每个文件的 "),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("export")]),t._v(" 之间插入。")]),t._v(" "),a("p",[t._v("如果提供了一个函数，将传递一个参数并进行调用，该参数的结构如下所示：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 入口文件所在的目录路径")]),t._v("\n    imports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所有被导入的数据")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// [ { importName: "...", importPath: "..." }, ... ]')]),t._v("\n    exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所有被导出的数据")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// [ { exportName: "...", exportPath: "..." }, ... ]')]),t._v("\n    defaultImports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    defaultExports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 `imports` and `exports` 生成的原本的导入和导出语句")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("请返回一个 "),a("code",[t._v("string")]),t._v(" 类型。")]),t._v(" "),a("h3",{attrs:{id:"options-overwriteimport-options-overwriteexport"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-overwriteimport-options-overwriteexport"}},[t._v("#")]),t._v(" options.overwriteImport && options.overwriteExport")]),t._v(" "),a("p",[t._v("此内容将覆盖 "),a("code",[t._v("qi-auto-export")]),t._v(" 的 "),a("code",[t._v("import")]),t._v(" 或 "),a("code",[t._v("export")]),t._v(" 的默认行为。")]),t._v(" "),a("p",[t._v("如果提供了一个函数，将传递一个参数并进行调用，其结构与 "),a("code",[t._v("options.inject")]),t._v(" 段落中的结构相同。")]),t._v(" "),a("h2",{attrs:{id:"返回值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("p",[t._v("您将获得一个具有以下属性的对象作为返回值。")]),t._v(" "),a("h3",{attrs:{id:"watch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[t._v("#")]),t._v(" watch()")]),t._v(" "),a("p",[t._v("开始监测文件更改，并自动重新生成。")]),t._v(" "),a("h3",{attrs:{id:"stop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stop"}},[t._v("#")]),t._v(" stop()")]),t._v(" "),a("p",[t._v("停止监测。")]),t._v(" "),a("h3",{attrs:{id:"once"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#once"}},[t._v("#")]),t._v(" once()")]),t._v(" "),a("p",[t._v("仅生成一次 "),a("code",[t._v("入口文件（index.js）")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"adddirectorys-dirs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adddirectorys-dirs"}},[t._v("#")]),t._v(" addDirectorys(dirs)")]),t._v(" "),a("h4",{attrs:{id:"array-dirs-要添加的目录数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#array-dirs-要添加的目录数组"}},[t._v("#")]),t._v(" [Array] dirs - 要添加的目录数组")]),t._v(" "),a("p",[t._v("添加额外的需要自动生成 "),a("code",[t._v("入口文件（index.js）")]),t._v(" 的目录。")]),t._v(" "),a("h3",{attrs:{id:"addeventlistener-eventname-callback-removeeventlistener-eventname-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#addeventlistener-eventname-callback-removeeventlistener-eventname-callback"}},[t._v("#")]),t._v(" addEventListener(eventName, callback) && removeEventListener(eventName, callback)")]),t._v(" "),a("h4",{attrs:{id:"string-eventname-事件名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#string-eventname-事件名"}},[t._v("#")]),t._v(" [String] eventName - 事件名")]),t._v(" "),a("h4",{attrs:{id:"array-callback-回调函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#array-callback-回调函数"}},[t._v("#")]),t._v(" [Array] callback - 回调函数")]),t._v(" "),a("p",[t._v("以下是 "),a("code",[t._v("eventName")]),t._v(" 的允许值:")]),t._v(" "),a("ul",[a("li",[t._v("done - 所有 "),a("code",[t._v("入口文件")]),t._v(" 均已写入完毕。")])])])}),[],!1,null,null,null);s.default=r.exports}}]);